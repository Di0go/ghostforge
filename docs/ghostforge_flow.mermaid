graph TD
    classDef LLM fill:#E0F7FA, stroke:#00BCD4, color:#01579B, font-weight:bold;
    classDef App fill:#FFFDE7, stroke:#FFEB3B, color:#F57F17, font-weight:bold;
    classDef DB fill:#E8F5E9, stroke:#4CAF50, color:#1B5E20, font-weight:bold;
    classDef External fill:#F5F5F5, stroke:#9E9E9E, color:#424242;

    subgraph Project: ghostforge
        direction LR

        %% 1. Request
        A[fa:fa-user External Request]:::External
        
        %% 2. Containers
        subgraph Internal Container Network
            direction TB
            %% PostgreSQL
            C(fa:fa-database ghostforge-db)

            %% Django, LangChain, FastAPI
            D(fa:fa-code ghostforge-app)

            %% Ollama
            E(fa:fa-brain ghostforge-llm)
            
            class C DB
            class D App
            class E LLM
        end

        %% 3. Integration Flow
        A -- 1. HTTPS Request --> D
        D -- 2. SQL Queries --> C
        C -- 3. Returns Context --> D
        D -- 4. API Request to Ollama --> E
        E -- 5. API Request Result from Ollama --> D
    end